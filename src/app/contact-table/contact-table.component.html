<div>
  <div class="flex justify-between items-center mb-2">
    <h2 class="text-xl font-semibold">Contact Preview</h2>
    <div class="flex items-center gap-4">
      <span class="text-muted-foreground text-sm">{{ contacts.length }} contacts</span>
      <button class="p-1 rounded hover:bg-gray-100">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-muted-foreground" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-4.35-4.35M17 11A6 6 0 105 11a6 6 0 0012 0z" /></svg>
      </button>
    </div>
  </div>
  <div class="overflow-x-auto">
    <table class="min-w-full bg-white">
      <thead>
        <tr>
          <th class="px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider">Contact Name</th>
          <th class="px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider">Phone Number</th>
          <th class="px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider">Status</th>
          <th class="px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider">Actions</th>
        </tr>
      </thead>
      <tbody class="bg-white">
        <tr *ngIf="pagedContacts.length === 0">
          <td colspan="4" class="text-center py-8 text-muted-foreground">
            No contacts uploaded yet. Please upload a CSV file to see the preview.
          </td>
        </tr>
        <tr *ngFor="let contact of pagedContacts">
          <td class="px-6 py-4 whitespace-nowrap border-b border-gray-200 font-medium">{{ contact.name }}</td>
          <td class="px-6 py-4 whitespace-nowrap border-b border-gray-200">{{ contact.phone }}</td>
          <td class="px-6 py-4 whitespace-nowrap border-b border-gray-200">
            <span [ngClass]="{
              'status-badge-pending': contact.status === 'Pending',
              'status-badge-sent': contact.status === 'Sent',
              'status-badge-failed': contact.status === 'Failed',
              'status-badge-delivered': contact.status === 'Delivered'
            }" class="status-badge">{{ contact.status }}</span>
          </td>
          <td class="px-6 py-4 whitespace-nowrap border-b border-gray-200">
            <button class="p-1 rounded hover:bg-gray-100" title="View">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" /></svg>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="flex justify-between items-center mt-4 text-sm text-muted-foreground">
    <span>{{ showingRange }}</span>
    <div class="flex gap-1">
      <button (click)="goToPage(page - 1)" [disabled]="page === 1" class="px-2 py-1 rounded border border-gray-200 bg-white disabled:opacity-50">&lt;</button>
      <ng-container *ngFor="let p of [].constructor(totalPages); let i = index">
        <button (click)="goToPage(i + 1)" [ngClass]="{'bg-gray-900 text-white': page === i + 1, 'bg-gray-100': page !== i + 1}" class="px-2 py-1 rounded border border-gray-200">{{ i + 1 }}</button>
      </ng-container>
      <button (click)="goToPage(page + 1)" [disabled]="page === totalPages" class="px-2 py-1 rounded border border-gray-200 bg-white disabled:opacity-50">&gt;</button>
    </div>
  </div>
</div>